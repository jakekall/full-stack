{"version":3,"sources":["reducers/notificationReducer.js","services/blogs.js","reducers/blogReducer.js","components/BlogForm.js","services/login.js","reducers/loginReducer.js","components/LoginForm.js","components/Notification.js","components/Togglable.js","components/BlogList.js","components/UserList.js","components/Menu.js","components/User.js","components/Blog.js","services/users.js","reducers/userReducer.js","App.js","store.js","index.js"],"names":["notificationReducer","state","arguments","length","undefined","action","type","message","baseUrl","token","services_blogs","setToken","newToken","concat","getAll","axios","get","then","response","data","getOne","id","create","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","this","_x","apply","update","_ref2","_callee2","object","_context2","put","_x2","_x3","remove","_ref3","_callee3","_context3","delete","_x4","blogReducer","toConsumableArray","blogToChange","find","b","_id","changedBlog","objectSpread","likes","map","blog","filter","BlogForm","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleFieldChange","event","setState","defineProperty","target","name","value","handleSubmit","preventDefault","blogObject","title","author","url","createNew","notify","react_default","createElement","onSubmit","FormGroup","ControlLabel","FormControl","onChange","Button","bsStyle","React","Component","connect","time","dispatch","setTimeout","content","newBlog","blogService","services_login","login","credentials","loginReducer","user","window","localStorage","setItem","JSON","stringify","removeItem","loggedUserJSON","getItem","loggedUser","parse","LoginForm","username","password","loginService","notification","Alert","Togglable","toggleVisibility","visible","hideWhenVisible","display","showWhenVisible","style","onClick","buttonLabel","children","BlogList","ListGroup","blogs","sort","ListGroupItem","key","Link","to","UserList","Table","striped","bordered","condensed","hover","users","textStyle","margin","menuStyle","backgroundColor","padding","borderBottomStyle","linkStyle","activeStyle","fontWeight","color","logout","NavLink","exact","User","Panel","Heading","Body","Blog","handleLikeButton","likeBlog","handleDeleteButton","confirm","removeBlog","history","push","Title","componentClass","href","bsSize","_ref4","_callee4","_context4","services_users","userReducer","App","findById","array","appView","Fragment","components_Menu","Route","path","render","components_Togglable","components_BlogForm","components_BlogList","components_UserList","match","components_User","params","components_Blog","loginFormView","components_LoginForm","loginWithToken","initializeBlogs","initializeUsers","BrowserRouter","className","PageHeader","components_Notification","userService","reducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","es","src_App","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.73ff197c.chunk.js","sourcesContent":["const notificationReducer = (state = '', action) => {\r\n  switch (action.type) {\r\n  case 'NOTIFY':\r\n    return action.message\r\n  case 'CLEAR':\r\n    return ''\r\n  default:\r\n    return state\r\n  }\r\n\r\n}\r\n\r\nexport const notify = (message, time) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'NOTIFY',\r\n      message\r\n    })\r\n    setTimeout(() => {\r\n      dispatch({\r\n        type: 'CLEAR'\r\n      })\r\n    }, time)\r\n  }\r\n}\r\n\r\nexport default notificationReducer","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst getOne = (id) => {\r\n  const request = axios.get(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = async (object, id) => {\r\n  const response = await axios.put(`${baseUrl}/${id}`, object)\r\n  return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n\r\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\r\n  return response.data\r\n}\r\n\r\nexport default { setToken, getAll, getOne, create, update, remove }","import blogService from '../services/blogs'\r\n\r\nconst blogReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INIT_BLOGS':\r\n      return action.data\r\n    case 'NEW_BLOG':\r\n      return [...state, action.data]\r\n    case 'LIKE_BLOG':\r\n      let id = action.data.id\r\n      const blogToChange = state.find(b => b._id === id)\r\n      const changedBlog = { ...blogToChange, likes: blogToChange.likes + 1 }\r\n      return state.map(blog => blog._id !== id ? blog : changedBlog)\r\n    case 'DELETE_BLOG':\r\n      id = action.data.id\r\n      return state.filter(b => b._id !== id)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializeBlogs = () => {\r\n  return async (dispatch) => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INIT_BLOGS',\r\n      data: blogs\r\n    })\r\n  }\r\n}\r\n\r\nexport const createNew = (content) => {\r\n  return async (dispatch) => {\r\n    const newBlog = await blogService.create(content)\r\n    dispatch({\r\n      type: 'NEW_BLOG',\r\n      data: newBlog\r\n    })\r\n  }\r\n}\r\n\r\nexport const likeBlog = (blog) => {\r\n  return async (dispatch) => {\r\n    const changedBlog = {\r\n      user: blog.user,\r\n      likes: blog.likes + 1,\r\n      author: blog.author,\r\n      title: blog.title,\r\n      url: blog.url\r\n    }\r\n\r\n    await blogService.update(changedBlog, blog._id)\r\n    dispatch({\r\n      type: 'LIKE_BLOG',\r\n      data: { id: blog._id }\r\n    })\r\n  }\r\n}\r\n\r\nexport const removeBlog = (blog) => {\r\n  return async (dispatch) => {\r\n    await blogService.remove(blog._id)\r\n    dispatch({\r\n      type: 'DELETE_BLOG',\r\n      data: { id: blog._id }\r\n    })\r\n  }\r\n}\r\n\r\nexport default blogReducer","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { notify } from '../reducers/notificationReducer'\r\nimport { createNew } from '../reducers/blogReducer'\r\nimport { FormGroup, FormControl, ControlLabel, Button } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass BlogForm extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      title: '',\r\n      author: '',\r\n      url: ''\r\n    }\r\n  }\r\n\r\n  handleFieldChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const blogObject = {\r\n      title: this.state.title,\r\n      author: this.state.author,\r\n      url: this.state.url\r\n    }\r\n    this.props.createNew(blogObject)\r\n    this.props.notify(`You added '${this.state.title}'`, 10000)\r\n    this.setState({ title: '', author: '', url: '' })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Create new blog</h2>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <FormGroup>\r\n            <ControlLabel>title:</ControlLabel>\r\n            <FormControl\r\n              type='text'\r\n              name='title'\r\n              value={this.state.title}\r\n              onChange={this.handleFieldChange}\r\n            />\r\n            <ControlLabel>author:</ControlLabel>\r\n            <FormControl\r\n              type='text'\r\n              name='author'\r\n              value={this.state.author}\r\n              onChange={this.handleFieldChange}\r\n            />\r\n            <ControlLabel>url:</ControlLabel>\r\n            <FormControl\r\n              type='text'\r\n              name='url'\r\n              value={this.state.url}\r\n              onChange={this.handleFieldChange}\r\n            />\r\n            <Button bsStyle='success' type='submit'>create</Button>\r\n          </FormGroup>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nBlogForm.propTypes = {\r\n  createNew: PropTypes.func.isRequired,\r\n  notify: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { notify, createNew }\r\n)(BlogForm)","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import blogService from '../services/blogs'\r\nimport loginService from '../services/login'\r\n\r\nconst loginReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n      const user = action.data\r\n      window.localStorage.setItem('loggedBloglistUser', JSON.stringify(user))\r\n      blogService.setToken(user.token)\r\n      return user\r\n    case 'LOGOUT':\r\n      window.localStorage.removeItem('loggedBloglistUser')\r\n      return null\r\n    case 'LOGIN_WITH_TOKEN':\r\n      const loggedUserJSON = window.localStorage.getItem('loggedBloglistUser')\r\n      if (!loggedUserJSON) {\r\n        return null\r\n      }\r\n      const loggedUser = JSON.parse(loggedUserJSON)\r\n      blogService.setToken(loggedUser.token)\r\n      return loggedUser\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const login = (credentials) => {\r\n  return async (dispatch) => {\r\n    const user = await loginService.login(credentials)\r\n    dispatch({\r\n      type: 'LOGIN',\r\n      data: user\r\n    })\r\n  }\r\n}\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: 'LOGOUT'\r\n    })\r\n  }\r\n}\r\n\r\nexport const loginWithToken = () => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: 'LOGIN_WITH_TOKEN'\r\n    })\r\n  }\r\n}\r\n\r\nexport default loginReducer","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { login } from '../reducers/loginReducer'\r\nimport { FormGroup, FormControl, ControlLabel, Button } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass LoginForm extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  }\r\n\r\n  handleFieldChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault()\r\n    const credentials = {\r\n      username: this.state.username,\r\n      password: this.state.password\r\n    }\r\n    this.props.login(credentials)\r\n    this.setState({ username: '', password: '' })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Log in to application</h2>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <FormGroup>\r\n            <ControlLabel>username:</ControlLabel>\r\n            <FormControl\r\n              type='text'\r\n              name='username'\r\n              value={this.state.username}\r\n              onChange={this.handleFieldChange}\r\n            />\r\n            <ControlLabel>password:</ControlLabel>\r\n            <FormControl\r\n              type='password'\r\n              name='password'\r\n              value={this.state.password}\r\n              onChange={this.handleFieldChange}\r\n            />\r\n            <Button bsStyle='success' type='submit'>login</Button>\r\n          </FormGroup>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nLoginForm.propTypes = {\r\n  login: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { login }\r\n)(LoginForm)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Alert } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification === '') {\r\n    return null\r\n  }\r\n  return (\r\n    <Alert bsStyle='info'>\r\n      <div>{notification}</div>\r\n    </Alert>\r\n  )\r\n}\r\n\r\nNotification.propTypes = {\r\n  notification: PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    notification: state.notification\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps\r\n)(Notification)","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button } from 'react-bootstrap'\r\n\r\n\r\nclass Togglable extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      visible: false\r\n    }\r\n  }\r\n\r\n  toggleVisibility = () => {\r\n    this.setState({ visible: !this.state.visible })\r\n  }\r\n\r\n  render() {\r\n    const hideWhenVisible = { display: this.state.visible ? 'none' : '' }\r\n    const showWhenVisible = { display: this.state.visible ? '' : 'none' }\r\n\r\n    return (\r\n      <div>\r\n        <div style={hideWhenVisible}>\r\n          <Button bsStyle='primary' onClick={this.toggleVisibility}>{this.props.buttonLabel}</Button>\r\n        </div>\r\n        <div style={showWhenVisible}>\r\n          {this.props.children}\r\n          <Button onClick={this.toggleVisibility}>cancel</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired,\r\n  children: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Togglable","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { ListGroup, ListGroupItem } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass BlogList extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Blogs</h2>\r\n        <ListGroup >\r\n          {this.props.blogs.sort((a, b) => b.likes - a.likes)\r\n            .map(blog =>\r\n              <ListGroupItem key={blog._id}>\r\n                <Link to={`/blogs/${blog._id}`} >{blog.title} by {blog.author}</Link>\r\n              </ListGroupItem>\r\n            )}\r\n        </ListGroup>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nBlogList.propTypes = {\r\n  blogs: PropTypes.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps\r\n)(BlogList)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Table } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass UserList extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Users</h2>\r\n        <Table striped bordered condensed hover>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Blogs</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.props.users.map(user =>\r\n              <tr key={user._id}>\r\n                <td><Link to={`/users/${user._id}`} >{user.name}</Link></td>\r\n                <td>{user.blogs.length}</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nUserList.propTypes = {\r\n  users: PropTypes.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.users\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps\r\n)(UserList)","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../reducers/loginReducer'\r\nimport { Button } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Menu = (props) => (\r\n  <div style={menuStyle}>\r\n    <NavLink exact to='/' style={linkStyle} activeStyle={activeStyle}>blogs</NavLink>\r\n    <NavLink exact to='/users' style={linkStyle} activeStyle={activeStyle}>users</NavLink>\r\n    <em style={textStyle}>{props.loggedUser.name} logged in</em>\r\n    <Button onClick={props.logout}>logout</Button>\r\n  </div>\r\n)\r\n\r\nconst textStyle = {\r\n  margin: 8\r\n}\r\n\r\nconst menuStyle = {\r\n  backgroundColor: 'lightblue',\r\n  padding: '10px 5px',\r\n  borderBottomStyle: 'solid'\r\n}\r\n\r\nconst linkStyle = {\r\n  margin: 8\r\n}\r\n\r\nconst activeStyle = {\r\n  fontWeight: 'bold',\r\n  color: 'black'\r\n}\r\n\r\nMenu.propTypes = {\r\n  loggedUser: PropTypes.object.isRequired,\r\n  logout: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedUser: state.loggedUser\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { logout }\r\n)(Menu)","import React from 'react'\r\nimport { Panel, ListGroup, ListGroupItem } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst User = ({ user }) => {\r\n  return (\r\n    <Panel>\r\n      <Panel.Heading>\r\n        <h2>{user.name}</h2>\r\n      </Panel.Heading>\r\n      <Panel.Body>\r\n        <h3>Added blogs</h3>\r\n      </Panel.Body>\r\n      <ListGroup>\r\n        {user.blogs.map(blog =>\r\n          <ListGroupItem key={blog._id}>\r\n            {blog.title} by {blog.author}\r\n          </ListGroupItem>\r\n        )}\r\n      </ListGroup>\r\n    </Panel>\r\n  )\r\n}\r\n\r\nUser.propTypes = {\r\n  user: PropTypes.object.isRequired\r\n}\r\n\r\nexport default User","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { likeBlog, removeBlog } from '../reducers/blogReducer'\r\nimport { Panel, Button } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Blog extends React.Component {\r\n\r\n  handleLikeButton = (blog) => () => {\r\n    this.props.likeBlog(blog)\r\n  }\r\n\r\n  handleDeleteButton = (blog) => () => {\r\n    if (window.confirm(`delete '${blog.title}' by ${blog.author}`)) {\r\n      this.props.removeBlog(blog)\r\n      this.props.history.push('/')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const blog = this.props.blog\r\n    return (\r\n      <Panel>\r\n        <Panel.Heading>\r\n          <Panel.Title componentClass='h2'>{blog.title}</Panel.Title>\r\n        </Panel.Heading>\r\n        <Panel.Body>\r\n          <a href={blog.url}>{blog.url}</a>\r\n          <div>{blog.likes} <Button bsStyle='success' bsSize='small' onClick={this.handleLikeButton(blog)}>like</Button></div>\r\n          <div>added by {blog.user.name}</div>\r\n          {this.props.loggedUser.name === blog.user.name ?\r\n            <Button bsStyle='danger' bsSize='small' onClick={this.handleDeleteButton(blog)}>delete</Button> : null}\r\n        </Panel.Body>\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nBlog.propTypes = {\r\n  likeBlog: PropTypes.func.isRequired,\r\n  removeBlog: PropTypes.func.isRequired,\r\n  blog: PropTypes.object.isRequired,\r\n  loggedUser: PropTypes.object.isRequired,\r\n  history: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedUser: state.loggedUser\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { likeBlog, removeBlog }\r\n)(Blog)","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst getOne = (id) => {\r\n  const request = axios.get(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, getOne }","import userService from '../services/users'\r\n\r\nconst userReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INIT_USERS':\r\n      return action.data\r\n    case 'GET_USER':\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializeUsers = () => {\r\n  return async (dispatch) => {\r\n    const users = await userService.getAll()\r\n    dispatch({\r\n      type: 'INIT_USERS',\r\n      data: users\r\n    })\r\n  }\r\n}\r\n\r\nexport const getUser = (id) => {\r\n  return async (dispatch) => {\r\n    const user = await userService.getOne(id)\r\n    dispatch({\r\n      type: 'GET_USER',\r\n      data: [user]\r\n    })\r\n  }\r\n}\r\n\r\nexport default userReducer","import React from 'react'\r\nimport BlogForm from './components/BlogForm'\r\nimport LoginForm from './components/LoginForm'\r\nimport Notification from './components/Notification'\r\nimport Togglable from './components/Togglable'\r\nimport BlogList from './components/BlogList'\r\nimport UserList from './components/UserList'\r\nimport Menu from './components/Menu'\r\nimport User from './components/User'\r\nimport Blog from './components/Blog'\r\nimport { connect } from 'react-redux'\r\nimport { initializeBlogs } from './reducers/blogReducer'\r\nimport { initializeUsers } from './reducers/userReducer'\r\nimport { loginWithToken } from './reducers/loginReducer'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport { PageHeader } from 'react-bootstrap'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.loginWithToken()\r\n    this.props.initializeBlogs()\r\n    this.props.initializeUsers()\r\n  }\r\n\r\n  findById = (array, id) =>\r\n    array.find(a => a._id === id)\r\n\r\n  appView = () => (\r\n    <>\r\n      <Menu />\r\n      <Route exact path='/' render={() =>\r\n        <div>\r\n          <Togglable buttonLabel='create new blog'>\r\n            <BlogForm />\r\n          </Togglable>\r\n          <BlogList />\r\n        </div>}\r\n      />\r\n      <Route exact path='/users' render={() =>\r\n        <UserList />}\r\n      />\r\n      <Route exact path='/users/:id' render={({ match }) =>\r\n        <User user={this.findById(this.props.users, match.params.id)} />}\r\n      />\r\n      <Route exact path='/blogs/:id' render={({ match, history }) =>\r\n        <Blog blog={this.findById(this.props.blogs, match.params.id)} history={history} />}\r\n      />\r\n    </>\r\n  )\r\n\r\n  loginFormView = () => (\r\n    <Togglable buttonLabel='login'>\r\n      <LoginForm />\r\n    </Togglable>\r\n  )\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div className='container'>\r\n          <PageHeader>Blog App</PageHeader>\r\n          <Notification />\r\n          {this.props.loggedUser === null ?\r\n            this.loginFormView() : this.appView()}\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  loginWithToken: PropTypes.func.isRequired,\r\n  initializeBlogs: PropTypes.func.isRequired,\r\n  initializeUsers: PropTypes.func.isRequired,\r\n  users: PropTypes.array.isRequired,\r\n  blogs: PropTypes.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedUser: state.loggedUser,\r\n    blogs: state.blogs,\r\n    users: state.users\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { initializeUsers, initializeBlogs, loginWithToken }\r\n)(App)","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport blogReducer from './reducers/blogReducer'\r\nimport loginReducer from './reducers/loginReducer'\r\nimport userReducer from './reducers/userReducer'\r\n\r\nconst reducer = combineReducers({\r\n  notification: notificationReducer,\r\n  blogs: blogReducer,\r\n  loggedUser: loginReducer,\r\n  users: userReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  applyMiddleware(thunk)\r\n)\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\nimport store from './store'\r\n\r\n\r\nconst render = () => {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n  )\r\n}\r\n\r\nrender()\r\nstore.subscribe(render)"],"sourceRoot":""}